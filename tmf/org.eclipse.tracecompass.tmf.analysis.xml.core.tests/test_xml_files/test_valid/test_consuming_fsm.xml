<?xml version="1.0" encoding="UTF-8"?>
<tmfxml xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:noNamespaceSchemaLocation="xmlDefinition.xsd">
<!-- ***************************************************************************
* Copyright (c) 2016 Ericsson
*
* All rights reserved. This program and the accompanying materials are
* made available under the terms of the Eclipse Public License v1.0 which
* accompanies this distribution, and is available at
* http://www.eclipse.org/legal/epl-v10.html
*************************************************************************** -->
<pattern version="0" id="syscall.analysis">
	<patternHandler>
		<action id="increment_counter_consuming">
			<stateChange>
				<stateAttribute type="constant" value="consuming" />
				<stateValue increment="true" type="long" value="1"/>
			</stateChange>
		</action>

		<fsm id="consuming">
			<state id="start">
				<transition event="entry" target="exit_state"/>
			</state>
			<state id="exit_state" >
				<transition event="exit" target="end" action="increment_counter_consuming"/>
			</state>
			<final id="end"/>
		</fsm>

		<action id="increment_counter_non_consuming">
			<stateChange>
				<stateAttribute type="constant" value="non_consuming" />
				<stateValue increment="true" type="long" value="1"/>
			</stateChange>
		</action>

		<fsm id="non_consuming" consuming="false">
			<state id="start">
				<transition event="entry" target="exit_state"/>
			</state>
			<state id="exit_state" >
				<transition event="exit" target="end" action="increment_counter_non_consuming"/>
			</state>
			<final id="end"/>
		</fsm>
	</patternHandler>
</pattern>
</tmfxml>